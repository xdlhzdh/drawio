<mxfile host="app.diagrams.net" modified="2022-03-31T03:09:58.184Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.74 Safari/537.36 Edg/99.0.1150.55" etag="l8sw8mBetuZjVLV20GlB" version="17.3.0" type="github">
  <diagram id="I7b-DVMGUag0UUCmyViW" name="Page-1">
    <mxGraphModel dx="1422" dy="762" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="0SPUhZUTOxkxkWTP6AR3-1" value="1. 构造如上两个channel&amp;nbsp; repo&lt;br&gt;2. 如果上面的pal channel对应的cell跟下面的channel block不一样，relinquish上面的cell&lt;br&gt;3. 如果下面的pal channel对应的cell跟上面的channel block不一样，relinquish上面的cell；&lt;br&gt;4. 如果上面的pal channel对应的cell对应的selected channel block存在，如果此cell下面没有channel block，则此cell走second grant替换流程。&lt;br&gt;5. 如果下面的pal channel对应的cell对应的原先assigned的channel block被新的cell占用，则relinquish 原先assigned的channel&amp;nbsp;block cell，如果没有被占用，则此cell走second grant替换流程。&lt;br&gt;6. 如果下面的channel对应的cell被relinquished或者之前没有assigned，走first grant&lt;br&gt;7. 如果上面的channel对应的cell没有被selected，relinquish此cell&lt;br&gt;8. 所有requested cell但是没有被selected的cell走正常的SI，所有selected没有走grant的cell走的正常升级流程" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontSize=15;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="9" y="400" width="791" height="200" as="geometry" />
        </mxCell>
        <mxCell id="0SPUhZUTOxkxkWTP6AR3-2" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;align=center;verticalAlign=middle;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="80" y="230" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0SPUhZUTOxkxkWTP6AR3-3" value="&lt;span style=&quot;font-size: 12px&quot;&gt;Cell1 3550-3570 GAA&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;align=center;verticalAlign=middle;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="160" y="230" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0SPUhZUTOxkxkWTP6AR3-4" value="&lt;span style=&quot;font-size: 12px&quot;&gt;Cell2 3570-3590 GAA&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;align=center;verticalAlign=middle;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="240" y="230" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0SPUhZUTOxkxkWTP6AR3-5" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;align=center;verticalAlign=middle;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="320" y="230" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0SPUhZUTOxkxkWTP6AR3-6" value="CellDn&lt;br&gt;Type&lt;br style=&quot;font-size: 13px&quot;&gt;MaxEirp" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;align=center;fontStyle=0;verticalAlign=middle;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="400" y="230" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0SPUhZUTOxkxkWTP6AR3-7" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;align=center;verticalAlign=middle;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="480" y="230" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0SPUhZUTOxkxkWTP6AR3-8" value="&lt;span style=&quot;font-size: 12px&quot;&gt;Cell1 3650-3570 GAA&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;align=center;verticalAlign=middle;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="560" y="230" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0SPUhZUTOxkxkWTP6AR3-9" value="&lt;span style=&quot;font-size: 12px&quot;&gt;Cell2 3670-3590 PAL&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;align=center;verticalAlign=middle;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="640" y="230" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0SPUhZUTOxkxkWTP6AR3-10" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;align=center;verticalAlign=middle;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="720" y="230" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0SPUhZUTOxkxkWTP6AR3-11" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;align=center;verticalAlign=middle;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="80" y="300" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0SPUhZUTOxkxkWTP6AR3-12" value="&lt;span style=&quot;font-size: 12px&quot;&gt;Cell3 3550-3570 GAA OR&lt;br&gt;Empty&lt;br&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;align=center;verticalAlign=middle;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="160" y="300" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0SPUhZUTOxkxkWTP6AR3-13" value="&lt;span style=&quot;font-size: 12px&quot;&gt;Cell1: 3570-3590 PAL&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;align=center;verticalAlign=middle;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="240" y="300" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0SPUhZUTOxkxkWTP6AR3-14" value="&lt;span style=&quot;font-size: 12px&quot;&gt;Cell2: 3590-3610 PAL&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;align=center;verticalAlign=middle;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="320" y="300" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0SPUhZUTOxkxkWTP6AR3-15" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;align=center;verticalAlign=middle;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="400" y="300" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0SPUhZUTOxkxkWTP6AR3-16" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;align=center;verticalAlign=middle;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="480" y="300" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0SPUhZUTOxkxkWTP6AR3-17" value="&lt;font style=&quot;font-size: 12px&quot;&gt;Cell2&amp;nbsp; 3650-3570 PAL&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;align=center;verticalAlign=middle;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="560" y="300" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0SPUhZUTOxkxkWTP6AR3-18" value="&lt;span style=&quot;font-size: 12px&quot;&gt;Cell1: 3670-3590 GAA OR Empty&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;align=center;verticalAlign=middle;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="640" y="300" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0SPUhZUTOxkxkWTP6AR3-19" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;align=center;verticalAlign=middle;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="720" y="300" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0SPUhZUTOxkxkWTP6AR3-20" value="Assigned&lt;br&gt;(Old)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#9673a6;fillColor=#e1d5e7;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="5" y="240" width="70" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0SPUhZUTOxkxkWTP6AR3-21" value="Selected&lt;br&gt;(New)" style="text;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="10" y="313.75" width="60" height="32.5" as="geometry" />
        </mxCell>
        <mxCell id="0SPUhZUTOxkxkWTP6AR3-22" value="PAL Usage Upgrade" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontColor=#000000;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="280" y="150" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0SPUhZUTOxkxkWTP6AR3-23" value="&lt;font style=&quot;font-size: 15px&quot;&gt;注意：&lt;br&gt;1. 对于要走second grant的Cell需要更新ChannelRepo(updateChannelState)&lt;br&gt;2. 对于要走second grant的Cell需要先stop second，包含ActionQueue中的second action&lt;br&gt;&lt;/font&gt;" style="text;html=1;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="10" y="660" width="590" height="80" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
